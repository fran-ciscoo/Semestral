<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/perfil.css">
    <script type="module" src="../script/perfil.js" defer></script>
    <link rel="stylesheet" href="../style/navbar.css">
    <title>Snack script - Perfil</title>
</head>
<body>
    <div id="navbar"></div>
    <div id="messageCart" class="alert-message"></div>
    
    <!-- Header del perfil con información principal -->
    <div class="profile-header">
        <div class="profile-avatar">
            <div class="avatar-circle">
                <span class="avatar-initial">U</span>
            </div>
        </div>
        <div class="profile-info">
            <h1 id="nombre" class="profile-name">Usuario</h1>
            <p id="email" class="profile-email">usuario@email.com</p>
            <div class="profile-stats">
                <div class="stat-item">
                    <span class="stat-number" id="points"></span>
                    <span class="stat-label">Puntos</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="pedidosCount">0</span>
                    <span class="stat-label">Pedidos</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="couponsNumber">0</span>
                    <span class="stat-label">Cupones</span>
                </div>
            </div>
        </div>
        <div class="profile-actions">
            <div class="session-actions" id="buttons">
                        <!-- Los botones se insertarán dinámicamente aquí -->
            </div>
        </div>
    </div>

    <!-- Grid de tarjetas principales -->
    <div class="profile-grid">

        <!-- Tarjeta de cupones -->
        <div class="profile-card coupons-card" id="profile-card coupons-card">
            <div class="card-header">
                <div class="card-icon">🎫</div>
                <h3>Mis Cupones</h3>
            </div>
            <div class="card-content">
                <div class="coupons-list" id="couponsList">
                    no hay cupones disponibles
                </div>
            </div>
        </div>

        <!-- Tarjeta de pedidos recientes -->
        <div class="profile-card orders-card">
            <div class="card-header">
                <div class="card-icon">📦</div>
                <h3>Pedidos Recientes</h3>
            </div>
            <div class="card-content">
                <div class="orders-list" id="ordersList">
                    <span class="no-coupons-msg">No hay pedidos recientes</span>
                </div>
            </div>
        </div>

        <!-- Tarjeta de direcciones -->
        <div class="profile-card addresses-card">
            <div class="card-header">
                <div class="card-icon">📍</div>
                <h3>Mis Direcciones</h3>
            </div>
            <div class="card-content addresses-card"></div>
            
        </div>

        <!-- Tarjeta de configuración -->
        <div class="profile-card subscription-card">
            <div class="card-header">
                <div class="card-icon">🌟</div>
                <h3>Hazte Suscriptor</h3>
            </div>
            <div class="card-content">
                <p>Al convertirte en suscriptor, ganarás puntos por cada compra que realices.
                    Luego podrás canjearlos por cupones de descuento y beneficios exclusivos.</p>
                <ul class="benefits-list">
                    <li>🎁 Gana puntos por tus compras</li>
                    <li>🏷️ Accede a cupones especiales</li>
                    <li>🚀 Obtén acceso anticipado a productos</li>
                </ul>
            </div>
            <div class="card-actions">
                <button class="card-btn" id="beSub">Suscribirme</button>
            </div>
        </div>

        <!-- Tarjeta de ayuda -->
        <div class="profile-card help-card">
            <div class="card-header">
                <div class="card-icon">❓</div>
                <h3>Ayuda & Soporte</h3>
            </div>
            <div class="card-content">
                <div class="help-links">
                    <a href="#" class="help-link"> 📧 SnackScript@gmail.com</a>
                    <a href="#" class="help-link">📞 362-4587</a>
                    <a href="#" class="help-link">📚 Tutorial</a>
                </div>
            </div>
        </div>
    </div>

   

    <dialog id="dialogEditarPerfil" class="dialog">
        <h2>Editar perfil</h2>
        <form id="formEditarPerfil">
            <div id="ERROR"></div>

            <label id="name">Nombre:</label>
            <input type="text" id="inputName" name="name" required>
            <div class="error-message" id="nameError"></div>

            <label id="username">Usuario:</label>
            <input type="text" id="inputUsername" name="username" required>

            <label id="email">Correo electrónico:</label>
            <input type="email" id="inputEmail" name="email" required>
            <div class="error-message" id="emailError"></div>

            <label id="shippingAddress">Dirección de envío:</label>
            <input type="text" id="inputCity" name="shippingAddress" required placeholder="Ciudad">
            <input type="text" id="inputAddress" name="address" required placeholder="Dirección">
            <input type="text" id="inputPostalCode" name="postalCode" placeholder="Codigo Postal" required>

            <label id="phone">Teléfono:</label>
            <input type="tel" id="inputPhone" name="phone" required>
            
            <button class="btn-primary">Actualizar</button>
            <button type="button" id="cancelar">Cancelar</button>
        </form>
    </dialog>

    <div id="footer"></div>
</body>
</html>
